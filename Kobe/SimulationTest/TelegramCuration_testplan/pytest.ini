[pytest]
# 基础配置
python_files = test_*.py
python_classes = Test*
python_functions = test_*
testpaths = test_cases

# 插件配置
addopts =
    --json-report
    --json-report-file=results/report.json
    --html=results/report.html
    --self-contained-html
    --timeout=300
    --verbose
    --capture=no
    --strict-markers

# 日志配置
log_cli = true
log_cli_level = INFO
log_file = logs/pytest.log
log_file_level = DEBUG

# 标记
markers =
    p0: Priority 0 - Core scenarios
    p1: Priority 1 - Important scenarios
    p2: Priority 2 - Supplementary scenarios
    p3: Priority 3 - Edge cases
    slow: Slow tests (> 1 minute)
    concurrent: Concurrent tests
    perf: Performance tests

# 超时
timeout_method = thread
